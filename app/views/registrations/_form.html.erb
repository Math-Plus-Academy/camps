
<div class="container">
  <h1>Summer Camp Registration</h1>
  <p class="registration">You must complete multiple registrations if you are registering multiple students. They're not too bad :)</p></br>
  <p><!-- Button trigger modal -->
    <button class="btn btn-warning btn-lg" data-toggle="modal" data-target="#registrationModal">
      Need help finding a camp? Click here.
    </button>
  </p>
<% if params[:parent_first_name] %>
  <%= simple_form_for(@registration) do |f| %>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    </br>
    <% if @registration.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@registration.errors.count, "error") %> prohibited this registration from being saved:</h2>

        <ul>
          <% @registration.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= f.association :location, label_method: :name, selected: params[:location] %>
    </div>
  </div>
  <div class='row'>
    <h3>Student Information</h3>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :student_first_name, label: "Student First Name" %>
    <%= f.input :student_last_name, label: "Student Last Name" %>
    </div>

    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :student_grade, label: "Grade" %>
    <%= f.input :student_allergies, label: "Allergies" %>
    </div>

    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :emergency_contact_name, input_html: { value: params[:emergency_contact_name]} %>
    <%= f.input :emergency_contact_phone, input_html: { value: params[:emergency_contact_phone]} %>
    <%= f.input :total, as: :hidden %>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <p>Select all of the summer camps you are registering your student for!</p>
      <div class="camp_offerings">
        <% if params[:location] == "1" || @registration.location_id == 1 %>
        <div id="powell_camp_offerings" class="powell_camp_offerings" style="display:inline-block;">
          <%= render 'powell_camp_calendar' %>
        </div>
        <div id="new_albany_camp_offerings" class="new_albany_camp_offerings" style="display:none;">
          <%= render 'new_albany_camp_calendar' %>
        </div>
        <% elsif params[:location] == "2" || @registration.location_id == 2 %>
        <div id="powell_camp_offerings" class="powell_camp_offerings" style="display:none;">
          <%= render 'powell_camp_calendar' %>
        </div>
        <div id="new_albany_camp_offerings" class="new_albany_camp_offerings" style="display:inline-block;">
          <%= render 'new_albany_camp_calendar' %>
        </div>
        <% else %>
        <div id="powell_camp_offerings" class="powell_camp_offerings" style="display:inline-block;">
          <%= render 'powell_camp_calendar' %>
        </div>
        <div id="new_albany_camp_offerings" class="new_albany_camp_offerings" style="display:inline-block;">
          <%= render 'new_albany_camp_calendar' %>
        </div>
        <% end %>
        <%# unless params[:location] || @registration.location %>
          <%# f.association :camp_offerings, collection: @camp_offerings, as: :check_boxes, label_method: :edit_name %>
        <%# end %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
      <h3>Parent/Gaurdian Information</h3>
    </div>
    <div class="col-lg-4 col-md-4 hidden-sm hidden-xs">
      <h3>Payment Information</h3>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :parent_first_name, label: "Parent/Gaurdian First Name", input_html: { value: params[:parent_first_name]} %>
    <%= f.input :parent_last_name, label: "Last Name", input_html: { value: params[:parent_last_name]} %>
    <%= f.input :parent_address_1, label: "Address 1", input_html: { value: params[:parent_address_1]} %>
    <%= f.input :parent_address_2, label: "Address 2", input_html: { value: params[:parent_address]} %>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :parent_city, label: "City", input_html: { value: params[:parent_city]} %>
    <%= f.input :parent_state, label: "State", input_html: { value: params[:parent_state]} %>
    <%= f.input :parent_zip, label: "Zip", input_html: { value: params[:parent_zip]} %>
    <%= f.input :parent_email, label: "Email", input_html: { value: params[:parent_email]} %>
    <%= f.input :parent_phone, label: "Phone", input_html: { value: params[:parent_phone]} %>
    <%= f.input :stripe_card_token, as: :hidden %>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= render 'credit_card_form' %>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
      <h3>Camps you are registering for:</h3>
      <div id="camp_registrations">
        <ul>
        </ul>
      </div>
    </div>
    <div class="col-lg-3 col-md-3 hidden-sm hidden-xs">
    </div>
    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 button_col">
    <div class="registration_button"><%= f.button :submit, "Submit Registration", class: "btn btn-lg btn-success pull-right", id: "registration_button" %></div>
    </div>
  <% end %>
</div>
</br>
<% else %>
  <%= simple_form_for(@registration) do |f| %>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    </br>
    <% if @registration.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@registration.errors.count, "error") %> prohibited this registration from being saved:</h2>

        <ul>
          <% @registration.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= f.association :location, label_method: :name, selected: params[:location] %>
    </div>
  </div>
  <div class='row'>
    <h3>Student Information</h3>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :student_first_name, label: "Student First Name" %>
    <%= f.input :student_last_name, label: "Student Last Name" %>
    </div>

    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :student_grade, label: "Grade" %>
    <%= f.input :student_allergies, label: "Allergies" %>
    </div>

    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :emergency_contact_name %>
    <%= f.input :emergency_contact_phone %>
    <%= f.input :total, as: :hidden %>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <p>Select all of the summer camps you are registering your student for!</p>
      <div class="camp_offerings">
        <% if params[:location] == "1" || @registration.location_id == 1 %>
        <div id="powell_camp_offerings" class="powell_camp_offerings" style="display:inline-block;">
          <%= render 'powell_camp_calendar' %>
        </div>
        <div id="new_albany_camp_offerings" class="new_albany_camp_offerings" style="display:none;">
          <%= render 'new_albany_camp_calendar' %>
        </div>
        <% elsif params[:location] == "2" || @registration.location_id == 2 %>
        <div id="powell_camp_offerings" class="powell_camp_offerings" style="display:none;">
          <%= render 'powell_camp_calendar' %>
        </div>
        <div id="new_albany_camp_offerings" class="new_albany_camp_offerings" style="display:inline-block;">
          <%= render 'new_albany_camp_calendar' %>
        </div>
        <% else %>
        <div id="powell_camp_offerings" class="powell_camp_offerings" style="display:inline-block;">
          <%= render 'powell_camp_calendar' %>
        </div>
        <div id="new_albany_camp_offerings" class="new_albany_camp_offerings" style="display:inline-block;">
          <%= render 'new_albany_camp_calendar' %>
        </div>
        <% end %>
        <%# unless params[:location] || @registration.location %>
          <%# f.association :camp_offerings, collection: @camp_offerings, as: :check_boxes, label_method: :edit_name %>
        <%# end %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
      <h3>Parent/Gaurdian Information</h3>
    </div>
    <div class="col-lg-4 col-md-4 hidden-sm hidden-xs">
      <h3>Payment Information</h3>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :parent_first_name, label: "Parent/Gaurdian First Name" %>
    <%= f.input :parent_last_name, label: "Last Name" %>
    <%= f.input :parent_address_1, label: "Address 1" %>
    <%= f.input :parent_address_2, label: "Address 2" %>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= f.input :parent_city, label: "City" %>
    <%= f.input :parent_state, label: "State" %>
    <%= f.input :parent_zip, label: "Zip" %>
    <%= f.input :parent_email, label: "Email" %>
    <%= f.input :parent_phone, label: "Phone" %>
    <%= f.input :stripe_card_token, as: :hidden %>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
    <%= render 'credit_card_form' %>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
      <h3>Camps you are registering for:</h3>
      <div id="camp_registrations">
        <ul>
        </ul>
      </div>
    </div>
    <div class="col-lg-3 col-md-3 hidden-sm hidden-xs">
    </div>
    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 button_col">
    <div class="registration_button"><%= f.button :submit, "Submit Registration", class: "btn btn-lg btn-success pull-right", id: "registration_button" %></div>
    </div>
  <% end %>
</div>
</br>
<% end %>

<!-- registrationModal -->
<div class="modal fade" id="registrationModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Would you like help finding the right camps?</h4>
      </div>
      <div class="modal-body">
        <p>Answer these quick questions and we'll pass along some suggestions.</p>
        <p>
          <!-- Age -->
          <b>Age:</b>
            <%= text_field_tag :age %>
        </p>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <!-- Interests -->
            <h4>Interests:</h4>
            <label class="category-select">
              <%= check_box_tag :math %>
              Math
            </label></br>
            <label class="category-select">
              <%= check_box_tag :technology %>
              Technology
            </label></br>
            <label class="category-select">
              <%= check_box_tag :programming %>
              Programming
            </label></br>
            <label class="category-select">
              <%= check_box_tag :art %>
              Art
            </label></br>
            <label class="category-select">
              <%= check_box_tag :strategy_games %>
              Strategy Games
            </label></br>
            <label class="category-select">
              <%= check_box_tag :business %>
              Business
            </label></br></br>
          </div><!-- col-lg-6 col-md-6 col-sm-12 col-xs-12 -->
          <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
            <!-- Goals -->
            <h4>Goals for your student:</h4>
            <label class="category-select">
              <%= check_box_tag :problem_solving %>
              Become a better problem solver.
            </label></br>
            <label class="category-select">
              <%= check_box_tag :technology %>
              Learn more about technology.
            </label></br>
            <label class="category-select">
              <%= check_box_tag :life_long_skill %>
              Begin to learn a life long skill.
            </label></br>
          </div><!-- col-lg-6 col-md-6 col-sm-12 col-xs-12 -->
        </div><!-- row -->
      </div><!-- .modal-body -->
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" id="highlight" class="btn btn-primary">Submit</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- confirmationModal -->
<div class="modal fade" id="confirmationModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Hope this helps!</h4>
      </div>
      <div class="modal-body" style="text-align:center;">
        <h4>Here are some suggestions for you!</h4>
      </div><!-- .modal-body -->
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
